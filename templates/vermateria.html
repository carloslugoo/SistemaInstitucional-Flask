{% extends 'base.html' %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<body>
{% block content %}

<div class="p-2 p-md-2 mb-2 rounded text-bg-dark">
    <div class="col-md-6 px-0">
           <h1 class="display-9 fst-italic"><i class="bi bi-bar-chart"></i> Proceso </h1>
    </div>
</div>
{% set count = namespace(value=0) %}

 <div class="row">
     {% for proceso in procesos %}
       {% set count.value = count.value + 1 %}
      <div class="col-md-3">
        <div class="h-70 p-1 text-bg-dark rounded-3">
          <h2>{{proceso.1}}</h2>
          <p>Fecha: {{proceso.2}} Puntos: {{proceso.3}}/{{proceso.4}}</p>
        </div>
      </div>
     {% if count.value == 3%}
     </div>
        <br>
       <div class="row">
           {% set count.value = count.value - 3 %}
           {% endif %}
    {% endfor %}
</div>

<br>

<div class="row align-items-md-stretch">
    <div class="col-md-3">
        <div class="h-70 p-5 text-bg-dark rounded-3">
        <p>Sumatorias: {{suml}}/{{sumt}}</p>
            <canvas id="myChart" max-width="50" height="100"></canvas>
        </div>
      </div>
    </div>
</div>
</div>


  <script>
  const labels = [
    'Puntaje Total',
    'Puntaje Logrado',
  ];

  const data = {
    labels: labels,
    datasets: [{
      label: 'Proceso:',
      backgroundColor: ['rgba(81, 6, 126, 0.8)', 'rgba(154, 32, 228, 1)'],
      borderColor: 'rgba(0, 0, 0, 1)',
      data: [{{sumt}}, {{suml}}],
    }]
  };

  const config = {
    type: 'doughnut',
    data: data,
    options: {}
  };
  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
</script>
</div>
{% endblock %}
</body>

</html>